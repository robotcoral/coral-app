<div class="control-panel">
  <div class="left-controls controls">
    <button (click)="controller.rotate()" title="Rotate counterclockwise">
      <img
        src="assets/icons/ic_fluent_arrow_rotate_counterclockwise_24_regular.svg"
        alt="Rotate counterclockwise"
        draggable="false"
      />
    </button>
    <button (click)="controller.move()" title="Move">
      <img
        src="assets/icons/ic_fluent_arrow_up_24_regular.svg"
        alt="Move"
        draggable="false"
      />
    </button>
    <button (click)="controller.rotate(-1)" title="Rotate clockwise">
      <img
        src="assets/icons/ic_fluent_arrow_rotate_clockwise_24_regular.svg"
        alt="Rotate clockwise"
        draggable="false"
      />
    </button>
  </div>

  <div class="separator"></div>

  <div class="right-controls controls">
    <div class="wrapper">
      <div id="modeMenu" [style]="modeStyle" class="menu">
        <button (click)="onModeMenu()" title="Change placement mode">
          <img [src]="modes[mode]" [alt]="mode" draggable="false" />
        </button>
        <ng-container *ngIf="modeExpanded">
          <button
            *ngFor="let m of modes | keyvalue"
            [style.display]="m.key == mode ? 'none' : ''"
            (click)="onModeSelect(m.key)"
            [title]="m.key"
          >
            <img [src]="m.value" draggable="false" [alt]="m.key" />
          </button>
        </ng-container>
      </div>
    </div>

    <div class="wrapper" *ngIf="mode != 'CUBE'">
      <div id="colorMenu" [style]="colorStyle" class="menu">
        <button
          [style.background-color]="colors[color]"
          (click)="onColorMenu()"
          title="Change color"
        >
          <img
            src="assets/icons/ic_fluent_color_24_regular.svg"
            alt="Colors"
            draggable="false"
          />
        </button>
        <ng-container *ngIf="colorExpanded">
          <button
            *ngFor="let c of colors | keyvalue"
            class="colorbtn"
            [style.background-color]="c.value"
            [style.display]="c.key == color ? 'none' : ''"
            (click)="onColorSelect(c.key)"
            [title]="c.key"
          ></button>
        </ng-container>
      </div>
    </div>
    <button (click)="onPlace()" title="Put down">
      <img
        src="assets/icons/ic_fluent_add_square_24_regular.svg"
        alt="Put down"
        draggable="false"
      />
    </button>
    <button (click)="onPickUp()" title="Pick up">
      <img
        src="assets/icons/ic_fluent_subtract_square_24_regular.svg"
        alt="Pick up"
        draggable="false"
      />
    </button>
  </div>

  <button
    class="settingsbtn"
    (click)="settingsOpen = !settingsOpen"
    title="Expand/Collapse settings"
  >
    <img
      src="assets/icons/ic_fluent_settings_24_regular.svg"
      alt="Settings"
      draggable="false"
    />
  </button>
</div>
<div class="control-panel settings-panel" *ngIf="settingsOpen">
  <button (click)="onReset()" title="Reset world">
    <img
      src="assets/icons/ic_fluent_arrow_counterclockwise_24_regular.svg"
      alt="Reset"
      draggable="false"
    />
  </button>
  <button (click)="onResize()" title="Resize world">
    <img
      src="assets/icons/ic_fluent_slide_size_24_regular.svg"
      alt="Resize"
      draggable="false"
    />
  </button>
  <input
    type="file"
    class="file-input"
    (change)="onFileSelected($event)"
    accept=".coralworld,.json"
    #fileUpload
  />
  <button (click)="onSave()" title="Save world as default">
    <img
      src="assets/icons/ic_fluent_save_24_regular.svg"
      alt="Save"
      draggable="false"
    />
  </button>
  <button (click)="fileUpload.click()" title="Import world">
    <img
      src="assets/icons/ic_fluent_cloud_backup_24_regular.svg"
      alt="Import"
      draggable="false"
    /></button
  ><button (click)="onExport()" title="Export world">
    <img
      src="assets/icons/ic_fluent_cloud_download_24_regular.svg"
      alt="Export"
      draggable="false"
    />
  </button>
</div>
